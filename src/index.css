@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    /* use app-level variables first (set in App.css via data-theme),
       then fall back to daisyUI variables if present, then to safe colors */
    background-color: var(--app-bg, var(--base-100, hsl(var(--b1) / var(--tw-bg-opacity, 1))));
    color: var(--app-text, var(--base-content, hsl(var(--bc) / var(--tw-text-opacity, 1))));
  }

  body {
    @apply font-sans;
    background-color: var(--app-bg, var(--base-100, hsl(var(--b1) / var(--tw-bg-opacity, 1))));
    color: var(--app-text, var(--base-content, hsl(var(--bc) / var(--tw-text-opacity, 1))));
  }
}

@layer components {
  /* Custom utility classes using only core Tailwind utilities */
  
  .card {
    @apply rounded-lg p-6 shadow-sm transition-all duration-200;
    background-color: hsl(var(--b2) / var(--tw-bg-opacity, 1));
    border: 1px solid hsl(var(--b3) / var(--tw-border-opacity, 1));
    border-radius: 0.75rem;
    border: 1px solid transparent;
    /* Layer 1: element background (uses app-level or daisyUI vars)
       Layer 2: gradient used for the border */
    background-image: linear-gradient(var(--app-bg, var(--base-100, hsl(var(--b1) / var(--tw-bg-opacity, 1)))), var(--app-bg, var(--base-100, hsl(var(--b1) / var(--tw-bg-opacity, 1))))),
                      linear-gradient(90deg, var(--app-primary, var(--primary, #3b82f6)), var(--app-primary-content, var(--primary-content, #60a5fa)));
    background-origin: padding-box, border-box;
    background-clip: padding-box, border-box;

  }

  .card:hover {
    @apply shadow-md;
    box-shadow: 
    0 0 8px 2px var(--app-primary, var(--primary, #3b82f6)),
    0 0 16px 4px var(--app-primary-content, var(--primary-content, #60a5fa));
  }

  /* Gradient border utility: uses double background layers so the
     outer layer becomes the border gradient while the inner layer is
     the element's background. Works well with rounded corners. */
  

  /* Small variant for tighter corners */
  .gradient-border-sm {
    border-radius: 0.5rem;
  }

  .table-header {
    @apply uppercase text-xs font-medium tracking-wider;
    background-color: hsl(var(--b3) / var(--tw-bg-opacity, 1));
    color: hsl(var(--bc) / var(--tw-text-opacity, 1));
  }

  .table-row {
    @apply transition-colors duration-150;
  }

  .table-row:hover {
    background-color: hsl(var(--b2) / var(--tw-bg-opacity, 1));
  }

  .fade-in {
    @apply animate-fade-in;
  }

  .slide-up {
    @apply animate-slide-up;
  }

  .nav-link {
    @apply flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200;
    color: hsl(var(--bc) / var(--tw-text-opacity, 1));
  }

  .nav-link:hover {
    color: hsl(var(--bc) / var(--tw-text-opacity, 1));
  }

  .nav-link.active {
    background-color: hsl(var(--p) / 0.2);
    color: hsl(var(--p) / var(--tw-text-opacity, 1));
  }
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: hsl(var(--b3) / var(--tw-bg-opacity, 1));
}

::-webkit-scrollbar-thumb {
  @apply rounded;
  background-color: hsl(var(--bc) / 0.3);
}

::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--bc) / 0.5);
}

.react-calendar {
  @apply rounded-lg border;
  background-color: hsl(var(--b1) / var(--tw-bg-opacity, 1));
  border-color: hsl(var(--b3) / var(--tw-border-opacity, 1));
}

.react-calendar__tile {
  @apply rounded;
  color: hsl(var(--bc) / var(--tw-text-opacity, 1));
}

.react-calendar__tile:hover {
  background-color: hsl(var(--b2) / var(--tw-bg-opacity, 1));
}

.react-calendar__tile--active {
  background-color: hsl(var(--p) / var(--tw-bg-opacity, 1));
  color: hsl(var(--pc) / var(--tw-text-opacity, 1));
}

.react-calendar__navigation button {
  color: hsl(var(--bc) / var(--tw-text-opacity, 1));
}

.react-calendar__navigation button:hover {
  background-color: hsl(var(--b2) / var(--tw-bg-opacity, 1));
}

.toast-success {
  background-color: hsl(var(--su) / var(--tw-bg-opacity, 1));
  color: hsl(var(--su-content) / var(--tw-text-opacity, 1));
  @apply rounded-lg p-4;
}

.toast-error {
  background-color: hsl(var(--er) / var(--tw-bg-opacity, 1));
  color: hsl(var(--er-content) / var(--tw-text-opacity, 1));
  @apply rounded-lg p-4;
}
